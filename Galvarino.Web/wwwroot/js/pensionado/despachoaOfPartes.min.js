window._procesar=[];const metodos={avanzarWf:function(){let n=$("#tabla-generica").bootstrapTable("getData");if(n.length==0)return $.niftyNoty({type:"warning",container:"floating",title:"Avance Tareas",message:"Nada para enviar!",closeBtn:!0,timer:5e3}),!1;$.each(n,function(n,t){_procesar.push({FolioCredito:t.folioCredito,Reparo:t.reparo!=null?t.reparo:0})});$.ajax({type:"POST",url:`/api/wf/v1/despacho-sucursal-oficiana-partes`,data:JSON.stringify(_procesar),contentType:"application/json; charset=utf-8"}).done(function(n){$.niftyNoty({type:"success",container:"floating",title:"Despacho a Oficina de Partes",message:"Estamos Generando la Nómina...<br/><small>Esta Tarea se cierra en 5 Seg. y te redirige al Pdf de La Nómina de envío<\/small>",closeBtn:!0,timer:5e3,onHidden:function(){window.open(`/salidas/pdf/detalle-valija-valorada/${n.codigoSeguimiento}`,"_blank")}})}).fail(function(){$.niftyNoty({type:"warning",container:"floating",title:"Avance Tareas",message:"Tarea No Finalizada, contacte a Soporte!",closeBtn:!0,timer:5e3})}).always(function(){console.log("always");_procesar=[];$("#tabla-generica").bootstrapTable("refresh")})}};$(function(){$("#filter-dp-component .input-group.date").datepicker({format:"dd-mm-yyyy",todayBtn:"linked",autoclose:!0,todayHighlight:!0}).on("changeDate",function(n){if(console.log({event:n}),$("#fecha_filtro").val()!==""){var t=$("#la_etapa").val(),i=$("#fecha_filtro").val();$("#tabla-generica").bootstrapTable("refresh",{url:`/api/wf/v1/mis-solicitudes/${t}/${i}`})}});$("#btn-generar-generico").on("click",function(){metodos.avanzarWf()});$("#btn-exportar-excel").on("click",function(){var t=$("#tabla-generica tr").find("td:first").html(),n;t=="No matching records found"?$.niftyNoty({type:"warning",container:"floating",title:"Generar Excel",message:"No puede generar excel, no existen datos a cargar!",closeBtn:!0,timer:5e3}):(n=$("#la_etapa").val(),location.href=`${BASE_URL}/api/reportes/Despacho-Of-Partes/${n}`)})});
//# sourceMappingURL=despachoaOfPartes.min.js.map